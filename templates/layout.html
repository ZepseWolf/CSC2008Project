<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, width=device-width">

  <!-- BOOTSTRAP 5.0 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>


  <!-- https://favicon.io/emoji-favicons/money-mouth-face/ -->
  <link href="/static/favicon.ico" rel="icon">
  <link href="/static/styles.css" rel="stylesheet">

  <!-- http://getbootstrap.com/docs/4.5/ -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js"
    integrity="sha512-PEsccDx9jqX6Dh4wZDCnWMaIO3gAaU0j46W//sSqQhUQxky6/eHZyeB3NrXD2xsyugAKd4KPiDANkcuoEa2JuA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!--React, Anime js-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/16.12.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.12.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.1.0/anime.min.js"></script>

  <!-- custom scripts-->
  <script src="/static/scripts.js" charset="utf-8"></script>

  <!-- Fontawesome stuff -->
  <link rel="stylesheet" href="{{ url_for('static', filename='fontawesome/css/all.css') }}">

  <title>DigiDex {% block title %}{% endblock %}</title>

</head>

<body>
  <script>
            // Play audio
            // var audio = document.createElement("audio");
            // audio.loop = true;
            // audio.src = "../static/audios/breakup_theme.mp3";
            // audio.autoplay = true;
            // audio.play();
  </script>
  <nav class="navbar navbar-expand-lg navbar-dark shadow-5-strong">
    <div class="container-fluid" style="justify-content:initial !important;">
      <a class="navbar-brand" href="/">DigiDex</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll"
        aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="dynamic-nav">
        <div class="collapse navbar-collapse" id="navbarScroll">
          <!-- <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/register">Register</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/login">Login</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/compare">Compare</a>
            </li>
          </ul>
          <form class="d-flex">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button>
          </form> -->
        </div>
      </div>
      
    </div>
  </nav>
  <script>
    const NAV = document.getElementById("dynamic-nav")
    const URLSTRING = window.location.origin;
    var htmlDom  = document.createElement("div");
    console.log(window.location.origin)
    if(window.location.href == URLSTRING){ // Default need to login
      htmlDom.innerHTML=`<div class="collapse navbar-collapse" id="navbarScroll">
                          <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
                            <li class="nav-item">
                              <a class="nav-link active" aria-current="page" href="/">Home</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" href="/login">Login/Register</a>
                            </li>
                          </ul>
                        </div>`
      
    } else if( window.location.href.includes(`${URLSTRING}/login`)){
      htmlDom.innerHTML=`<div class="collapse navbar-collapse" id="navbarScroll">
                          <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
                            <li class="nav-item">
                              <a class="nav-link " aria-current="page" href="/">Home</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link active" href="/login">Login/Register</a>
                            </li>
                          </ul>
                        </div>`
    }
    else if( window.location.href.includes(`${URLSTRING}/register`)){
      htmlDom.innerHTML=`<div class="collapse navbar-collapse" id="navbarScroll">
                          <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
                            <li class="nav-item">
                              <a class="nav-link " aria-current="page" href="/">Home</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link active" href="/login">Login/Register</a>
                            </li>
                          </ul>
                        </div>`
    }
    else if( window.location.href.includes(`${URLSTRING}/landing`)){
      htmlDom.innerHTML=`<div class="collapse navbar-collapse" id="navbarScroll">
                          <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
                            <li class="nav-item">
                              <a class="nav-link active" aria-current="page" href="/landing">Home</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" href="/compare">Comparison</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link " href="/">Logout</a>
                            </li>
                          </ul>
                        </div>`
    }
    else if( window.location.href.includes(`${URLSTRING}/compare`)){
      htmlDom.innerHTML=`<div class="collapse navbar-collapse" id="navbarScroll">
                          <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
                            <li class="nav-item">
                              <a class="nav-link " aria-current="page" href="/landing">Home</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link active" href="/compare">Comparison</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link " href="/">Logout</a>
                            </li>
                          </ul>
                        </div>`
    }
    NAV.children[0].replaceWith(htmlDom)
  </script>

  <main class="container" style="max-width: 2000px !important;">
    {% block main %}{% endblock %}
  </main>

  <footer style="position:fixed; bottom:0; right:0%; color:white; margin:auto;font-size:12px;">
    <i>All rights reserved. CSC2008</i>
  </footer>
</body>

</html>