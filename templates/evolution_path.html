{% extends "layout.html" %}

{% block title %}
    Evolution Path
{% endblock %}

{% block styles %}
    {{ bootstrap.load_css() }}
{% endblock %}

{% block main %}
<div id="root"></div>

<div class="container">
    <div class="row mt-5">
        <div class="col-12 text-center mb-4">
            <h3 class="path-heading">Evolution Path(s) from {{ digimon_name_1 }} to {{ digimon_name_2 }}</h3>
        </div>
        {% if path %}
            <div class="col-12">
                <table>
                    {% for p in path %}
                        <tr>
                            {% for digimon in p[0].split(',') %}
                                <td>
                                    <div class="card" style=" width:200px">
                                        <img class="card-img-top" src="https://digimon-api.com/images/digimon/w/{{ digimon }}.png" alt="https://dummyimage.com/200x200/000/fff&text=?" onerror="this.onerror=null; this.src='https://dummyimage.com/200x200/000/fff&text=?'" >
                                        <div class="card-body" style="flex-grow: 1;">
                                            <h5 class="card-title" style="color:black">{{ digimon }}</h5>
                                        </div>
                                    </div>
                                </td>
                                {% if not loop.last %}
                                    <td>
                                        <img src="{{ url_for('static', filename='img/right_arrow.png') }}" alt="arrow" style="width: 50px; height: 50px;">
                                    </td>
                                {% endif %}
                            {% endfor %}
                        </tr>
                    {% endfor %}
                </table>
            </div>
        {% else %}
            <p>No evolution path found.</p>
        {% endif %}
    </div>
</div>

{% endblock %}

{% block scripts %}
    {{ bootstrap.load_js() }}
{% endblock %}
